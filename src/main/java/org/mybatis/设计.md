### 使用

1. 在SpringBoot中配置类, 配置MapperScan, @MapperScan("com.example.demo.mapper")
2. springboot yml配置文件中配置一些行为

### 原理

1. 注入sqlSessionFactory, 通过SqlSessionFactoryBean => 是FactoryBean的类型
2. 注入SqlSessionTemplate (代理)
3. xxxMapper接口, 通过 MapperFactoryBean注入, 是FactoryBean的类型, 他的getObject()
   方法返回的是Mapper接口的代理对象,通过的是SqlSessionTemplate
   生成的单例实例

### 整合原理 Mapper做到单例
   // update(int),insert(主键ID,自增),delete(),select(),flush()
   // 生产的代理对象 => MapperProxy
1. sqlSession.getMapper()  底层调用的还是  sqlSession.xxx()  selectOne,selectList等等

跟Spring进行整合的时候, 做到 sqlSession.getMapper()是一个单例, FactoryBean.getObj()

SqlSessionTemplate =>
 1. sqlsessionfactory => 真正用于生产新的sqlsession
 2. 执行类型(简单,复用,批量) => 是用来表示生产sqlsession底层执行器的类型
 3. 生成代理(SqlSession的代理), ThreadLocal(Spring的事务里面) , 